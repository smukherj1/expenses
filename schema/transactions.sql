-- Enable pgvector extensions in the database.
CREATE EXTENSION IF NOT EXISTS vector;

CREATE TABLE IF NOT EXISTS TRANSACTIONS (
    ID BIGSERIAL PRIMARY KEY,
    DATE DATE NOT NULL,
    DESCRIPTION TEXT NOT NULL,
    AMOUNT_CENTS BIGINT NOT NULL,
    SOURCE TEXT NOT NULL,
    TAGS TEXT[],
    DESC_EMBEDDING VECTOR(768)
);

CREATE INDEX IF NOT EXISTS TRANSACTIONS_INDEX 
ON TRANSACTIONS(DATE, DESCRIPTION, AMOUNT_CENTS);